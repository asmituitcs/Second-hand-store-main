{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASMIT\\\\Downloads\\\\Second-hand-store-main\\\\Second-hand-store-main\\\\client\\\\my-app\\\\src\\\\component\\\\postDeatils\\\\PostDetails.js\",\n    _s = $RefreshSig$();\n\nimport { Paper, Button, LinearProgress } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useEffect } from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { Divider } from \"@material-ui/core\";\nimport { getItemDetails, getItemsByCategory, soldItem, Purchase } from \"../../api/index\";\nimport useStyles from \"./styles\";\nimport { Fragment } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PostDetails = () => {\n  _s();\n\n  var _JSON$parse;\n\n  const {\n    itemId\n  } = useParams();\n  const history = useNavigate();\n  const classes = useStyles();\n  const [user, setUser] = useState((_JSON$parse = JSON.parse(localStorage.getItem(\"token\"))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.userDetails);\n  const [itemData, setItemData] = useState(null);\n  const [itemsByCategory, setItemsByCategory] = useState(null);\n  useEffect(async () => {\n    try {\n      const {\n        data\n      } = await getItemDetails(itemId);\n      const findItemsByCategory = await getItemsByCategory(data.category);\n      console.log(findItemsByCategory);\n      setItemData(data);\n      setItemsByCategory(findItemsByCategory.data.filter(_ref => {\n        let {\n          _id\n        } = _ref;\n        return _id !== data._id;\n      }));\n    } catch (err) {\n      console.log(err);\n    }\n  }, [itemId]);\n\n  const moveToItem = _id => history(`/PostDetails/${_id}`, {\n    replace: true\n  });\n\n  const purchaseItem = async _id => {\n    const a = await Purchase(itemData);\n    setItemData((await soldItem(_id)).data);\n    console.log(a);\n  };\n\n  if (!itemData) return /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.paper,\n      elevation: 6,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.card,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.section,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h3\",\n            component: \"h2\",\n            children: itemData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h6\",\n            component: \"h2\",\n            children: \"Category:  \" + itemData.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            style: {\n              margin: \"20px 0\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"body1\",\n            component: \"p\",\n            children: itemData.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            style: {\n              margin: \"20px 0\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h6\",\n            component: \"h2\",\n            children: \"Seller:  \" + itemData.seller\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h6\",\n            component: \"h2\",\n            children: \"Created at:  \" + moment(itemData.create_at).fromNow()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"h6\",\n            component: \"h2\",\n            children: \"Price:  \" + itemData.price + \"₪\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), (user === null || user === void 0 ? void 0 : user.id) === itemData.sellerId || !(user !== null && user !== void 0 && user.id) || itemData.sold ? /*#__PURE__*/_jsxDEV(Button, {\n            disabled: true,\n            className: classes.button,\n            color: \"primary\",\n            variant: \"contained\",\n            children: itemData.sold ? \"sold\" : \"purchase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => purchaseItem(itemData._id),\n            className: classes.button,\n            color: \"primary\",\n            variant: \"contained\",\n            children: itemData.sold ? \"sold\" : \"purchase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.imageSection,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: classes.media,\n            src: itemData.pictureAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), !!(itemsByCategory !== null && itemsByCategory !== void 0 && itemsByCategory.length) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.section2,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          gutterBottom: true,\n          variant: \"h5\",\n          children: \"You may also be interested in:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.itemsInteresting,\n          children: itemsByCategory.map(_ref2 => {\n            let {\n              name,\n              description,\n              price,\n              likes,\n              pictureAddress,\n              _id\n            } = _ref2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.sameCategoryCard,\n              onClick: () => moveToItem(_id),\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"h6\",\n                children: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"subtitle2\",\n                children: description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"subtitle1\",\n                children: [\"Likes: \", likes.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"subtitle1\",\n                children: `${price}` + \"₪\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: pictureAddress,\n                width: \"200px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 21\n              }, this)]\n            }, _id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PostDetails, \"/BFUomzkjiIKgVJHTINwbtEH+6g=\", false, function () {\n  return [useParams, useNavigate, useStyles];\n});\n\n_c = PostDetails;\nexport default PostDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostDetails\");","map":{"version":3,"sources":["C:/Users/ASMIT/Downloads/Second-hand-store-main/Second-hand-store-main/client/my-app/src/component/postDeatils/PostDetails.js"],"names":["Paper","Button","LinearProgress","React","useEffect","Typography","useState","useParams","useNavigate","moment","Divider","getItemDetails","getItemsByCategory","soldItem","Purchase","useStyles","Fragment","PostDetails","itemId","history","classes","user","setUser","JSON","parse","localStorage","getItem","userDetails","itemData","setItemData","itemsByCategory","setItemsByCategory","data","findItemsByCategory","category","console","log","filter","_id","err","moveToItem","replace","purchaseItem","a","paper","card","section","name","margin","description","seller","create_at","fromNow","price","id","sellerId","sold","button","imageSection","media","pictureAddress","length","section2","itemsInteresting","map","likes","sameCategoryCard"],"mappings":"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","sourcesContent":["import { Paper, Button, LinearProgress } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport {\r\n  getItemDetails,\r\n  getItemsByCategory,\r\n  soldItem,\r\n  Purchase,\r\n} from \"../../api/index\";\r\nimport useStyles from \"./styles\";\r\nimport { Fragment } from \"react\";\r\n\r\nconst PostDetails = () => {\r\n  const { itemId } = useParams();\r\n  const history = useNavigate();\r\n  const classes = useStyles();\r\n  const [user, setUser] = useState(\r\n    JSON.parse(localStorage.getItem(\"token\"))?.userDetails\r\n  );\r\n  const [itemData, setItemData] = useState(null);\r\n  const [itemsByCategory, setItemsByCategory] = useState(null);\r\n  useEffect(async () => {\r\n    try {\r\n      const { data } = await getItemDetails(itemId);\r\n      const findItemsByCategory = await getItemsByCategory(data.category);\r\n      console.log(findItemsByCategory);\r\n      setItemData(data);\r\n      setItemsByCategory(\r\n        findItemsByCategory.data.filter(({ _id }) => _id !== data._id)\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }, [itemId]);\r\n\r\n  const moveToItem = (_id) => history(`/PostDetails/${_id}`, { replace: true });\r\n  const purchaseItem = async (_id) => {\r\n    const a = await Purchase(itemData);\r\n    setItemData((await soldItem(_id)).data);\r\n    console.log(a);\r\n  };\r\n  if (!itemData) return <LinearProgress></LinearProgress>;\r\n\r\n  return (\r\n    <Fragment>\r\n      <Paper className={classes.paper} elevation={6}>\r\n        <div className={classes.card}>\r\n          <div className={classes.section}>\r\n            <Typography gutterBottom variant=\"h3\" component=\"h2\">\r\n              {itemData.name}\r\n            </Typography>\r\n\r\n            <Typography gutterBottom variant=\"h6\" component=\"h2\">\r\n              {\"Category:  \" + itemData.category}\r\n            </Typography>\r\n            <Divider style={{ margin: \"20px 0\" }} />\r\n            <Typography gutterBottom variant=\"body1\" component=\"p\">\r\n              {itemData.description}\r\n            </Typography>\r\n            <Divider style={{ margin: \"20px 0\" }} />\r\n            <Typography gutterBottom variant=\"h6\" component=\"h2\">\r\n              {\"Seller:  \" + itemData.seller}\r\n            </Typography>\r\n            <Typography gutterBottom variant=\"h6\" component=\"h2\">\r\n              {\"Created at:  \" + moment(itemData.create_at).fromNow()}\r\n            </Typography>\r\n            <Typography gutterBottom variant=\"h6\" component=\"h2\">\r\n              {\"Price:  \" + itemData.price + \"₪\"}\r\n            </Typography>\r\n            {user?.id === itemData.sellerId || !user?.id || itemData.sold ? (\r\n              <Button\r\n                disabled\r\n                className={classes.button}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                {itemData.sold ? \"sold\" : \"purchase\"}\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                onClick={() => purchaseItem(itemData._id)}\r\n                className={classes.button}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                {itemData.sold ? \"sold\" : \"purchase\"}\r\n              </Button>\r\n            )}\r\n          </div>\r\n          <div className={classes.imageSection}>\r\n            <img className={classes.media} src={itemData.pictureAddress} />\r\n          </div>\r\n        </div>\r\n        {!!itemsByCategory?.length && (\r\n          <div className={classes.section2}>\r\n            <Typography gutterBottom variant=\"h5\">\r\n              You may also be interested in:\r\n            </Typography>\r\n            <Divider />\r\n            <div className={classes.itemsInteresting}>\r\n              {itemsByCategory.map(\r\n                ({ name, description, price, likes, pictureAddress, _id }) => (\r\n                  <div\r\n                    className={classes.sameCategoryCard}\r\n                    onClick={() => moveToItem(_id)}\r\n                    key={_id}\r\n                  >\r\n                    <Typography gutterBottom variant=\"h6\">\r\n                      {name}\r\n                    </Typography>\r\n                    <Typography gutterBottom variant=\"subtitle2\">\r\n                      {description}\r\n                    </Typography>\r\n                    <Typography gutterBottom variant=\"subtitle1\">\r\n                      Likes: {likes.length}\r\n                    </Typography>\r\n                    <Typography gutterBottom variant=\"subtitle1\">\r\n                      {`${price}` + \"₪\"}\r\n                    </Typography>\r\n                    <img src={pictureAddress} width=\"200px\" />\r\n                  </div>\r\n                )\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Paper>\r\n    </Fragment>\r\n  );\r\n};\r\nexport default PostDetails;\r\n"]},"metadata":{},"sourceType":"module"}